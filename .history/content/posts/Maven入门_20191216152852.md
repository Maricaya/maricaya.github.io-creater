---
title: "Maven入门"
date: 2019-12-16T18:55:11+08:00
draft: false
---

Maven是Java的包管理工具，类似于JavaScript的npm。Maven已经有十多年的历史，至今仍然被Java程序员广泛使用。要了解Maven，先了解最基本的概念。什么是包？

## 什么是包？
JVM是如何工作的？
JVM被设计的相当简单：1.执行一个类的字节码 2.假如这个过程中碰到了新的类，加载 -> 1.2...

那么，去哪里加载新的类？
命令行中可以执行的程序是从环境变量中找到的，类似的，新的类是通过类路径（classpath）挨个去找的。如果碰到jar包，就将jar包解压缩后寻找。jar包的本质就是zip压缩包，将jar改为zip后解压缩，可以看到一堆java类。
类的全限定类名唯一确定了一个类。
包，就是把许多类放在一起，压缩为jar包。
```bash
-classpath/-cp
```

## 传递性依赖
即你依赖的类还依赖了其他类。程序庞大的情况下，依赖可能非常多。在真实的项目中，可能依赖成百上千个jar包。如果使用命令行的方式一个一个传递，会导致效率十分低下。
这就是使用自动化工具的原因：帮我们完成重复、啰嗦的事情。

我们知道，类的唯一表示就是全限定类名。全限定类名是用来在jar包中，根据目录来定位文件的。如果依赖的两个包，分别依赖同一个同名文件，但是是不同的版本。那应该选择哪个版本呢？
答案很简单：**谁在前面，就用谁。**
在不同的版本中，代码是不同的，因此可能会出现bug。这就是**Classpath hell** 类路径地狱。
最早的解决方法是：每次上线前都看一下，确定没有同名类。但是Classpath很长，肉眼看出问题很难。


